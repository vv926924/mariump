window.suggestmeyes_loaded=true;var large_device_breakpoint=16*78.1875;var medium_device_breakpoint=16*40.0625;$(document).ready(function(){lightboxLinks();$("td.content_left a").removeAttr("title");$("ul.topmenu a").removeAttr("title")});Number.isInteger=Number.isInteger||function(a){return typeof a==="number"&&isFinite(a)&&Math.floor(a)===a};var pswp;var pswp_zoomlevel_max=2;var pswp_zoomlevel=1;var pswp_zoomlevel_min=1;function lightboxLinks(){var b;var a;$('a[rel*="lightbox"]').unbind("click");$('a[rel*="lightbox"]').click(function(){b=$(this).attr("href");a=$(this).attr("rel");var j=function(){$("#popup_light iframe").remove()};var d,G;var p=b.substring(b.length-3,b.length).toLowerCase();if(b.indexOf("/maps/embed/")>-1){$("#popup_reveal_content").html('<iframe src="'+b+'" style="margin:0;padding:0;height:100%;width:100%;border:0;overflow:hidden;"></iframe>');$("#popup_reveal").foundation("open")}else{if(p!="jpg"&&p!="gif"&&p!="png"){var z=new RegExp("(.*?)skatepro.(.*?)/catalog/","g");b=b.replace(z,"");$.ajax({url:b,success:function(K){$("#popup_reveal_content").html(K).scrollTop(0);$("#popup_reveal").foundation("open");lazyload(true)}})}else{var I=$(".secondary_image_wrapper");$("#popup_light_wrapper").css({width:"auto",height:"auto"});$("#popup_light").css({width:"auto",height:"auto"});var u=0;if(I.length>0){u=90}var c=50;var E=50;var q=$("#product_image_table").data("max_height");var J=$("#product_image_table").data("max_width");var s=$(window).height()-c;var f=$(window).width()-E;var e=(s-c);var k=(f-E)-u;var v="";if(I.length>0){$("#prettybox_thumbs").css({width:u+"px"});var r=0;I.each(function(){var K=$(this).find("img").attr("src");v+='<table class="prettybox_thumbnail" onclick="pswp.goTo('+r+');reset_lightbox_zoombuttons();"><tr><td style="text-align:center;"><img src="'+K+'" /></td></tr></table>';r++})}var o=Math.min(e,q)+34;var D=Math.min(k,J)+36;o=Math.max(o,300);D=Math.max(D,300);var h=function(){pswp.close();window.history.back()};window.onhashchange=function(){if(window.location.hash==""){$.popup.hidePopup();pswp.close()}};var F="width:"+D+"px;height:"+o+"px;";var C={content_id:"popup_light",callback_on_hide:h};var m="";if($(this).hasClass("prodimage_link")==true&&$(window).width()<large_device_breakpoint){o=$(window).height();C={content_id:"popup_light",callback_on_hide:h,align_center:false,position:"fixed"};F="width:100vw;height:"+$(window).height()+"px;";m='<div style="position:absolute;top:10px;left:10px;z-index:1600;background-color:#FFFFFF;" class="button black hollow" onclick="$.popup.hidePopup();pswp.close();window.history.back();">'+php2js.texts.IMAGE_BUTTON_BACK+"</div>"}var n='<div style="position: absolute;bottom:10px;z-index:1600;width:100%;text-align: center;"><div style="width:150px;border:1px solid #999999;border-radius:3px;display:inline-block;"><div class="prettybox_zoombuttons prettybox_zoom_out" onclick="lightbox_zoom(\'out\');" style="color:#BBBBBB;border-right:1px solid #999999;">&minus;</div><div class="prettybox_zoombuttons prettybox_zoom_in" onclick="lightbox_zoom(\'in\');"  style="">&plus;</div></div></div>';$("#popup_light_wrapper").html('<div id="prettybox_mainimage" style="text-align:center;'+F+'"></div><div style="z-index:1600;position:absolute;top:0;left:10px;padding-top:10px;width:'+u+'px;" class="show-for-medium">'+v+"</div>"+m+n);$("#prettybox_mainimage").html('<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="'+php2js.texts.PREVNEXT_BUTTON_PREV+'"><svg style="margin:3px 0 0 40px;pointer-events: none;width:1em;" version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M23 25.813c0.563 0.563 0.563 1.125 0 1.563-0.5 0.563-1.063 0.563-1.5 0 0 0-12.563-12.625-12.563-12.625-0.5-0.5-0.5-1 0-1.563 0 0 12.563-12.625 12.563-12.625 0.438-0.563 1-0.563 1.5 0 0.563 0.438 0.563 1 0 1.563 0 0-11.438 11.875-11.438 11.875s11.438 11.813 11.438 11.813"></path></svg></button><button class="pswp__button pswp__button--arrow--right" title="'+php2js.texts.PREVNEXT_BUTTON_NEXT+'"><svg style="margin:3px 0 0 0px;pointer-events: none;width:1em;" version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M9 25.813c0 0 11.438-11.813 11.438-11.813s-11.438-11.875-11.438-11.875c-0.563-0.563-0.563-1.125 0-1.563 0.5-0.563 1.063-0.563 1.5 0 0 0 12.563 12.625 12.563 12.625 0.5 0.563 0.5 1.063 0 1.563 0 0-12.563 12.625-12.563 12.625-0.438 0.563-1 0.563-1.5 0-0.563-0.438-0.563-1 0-1.563"></path></svg></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div>');$(".pswp__button--arrow--left").css("padding-left","12px");if(r>4){$(".pswp__button--arrow--left").css("margin-left","35px")}$.popup(C);var A="#show_image";window.location.hash=A;var t=new Array();var x=$(this).data("stock_code");for(i=0;i<php2js.product.variants[x].images.length;i++){var B=php2js.product.variants[x].images[i].file;var w=php2js.product.variants[x].images[i][1000].h;var y=php2js.product.variants[x].images[i][1000].w;t.push({src:php2js.texts.HTTPS_STATIC+"/"+php2js.texts.DIR_WS_PRODUCT_1500+B,w:y,h:w})}var H=document.querySelectorAll(".pswp")[0];var l=0;if($(this).data("index")!=undefined){l=parseInt($(this).data("index"))}var g={index:l,shareEl:false,fullscreenEl:false,counterEl:false,captionEl:false,closeEl:false,closeElClasses:[],barsSize:{top:0,bottom:"auto"},timeToIdle:0,clickToCloseNonZoomable:false,tapToToggleControls:false,modal:false,closeOnVerticalDrag:false,maxSpreadZoom:pswp_zoomlevel_max,pinchToClose:false,escKey:false,history:false,loop:true,getDoubleTapZoom:function(L,K){if(L){$(".prettybox_zoom_in").css("color","#0a0a0a");$(".prettybox_zoom_out").css("color","#BBBBBB");if(pswp.getZoomLevel()==K.initialZoomLevel){return pswp_zoomlevel_max}else{return K.initialZoomLevel}}}};pswp=new PhotoSwipe(H,PhotoSwipeUI_Default,t,g);pswp.init();pswp_zoomlevel=pswp_zoomlevel_min=pswp.getZoomLevel();pswp.listen("afterChange",function(){pswp_zoomlevel=pswp_zoomlevel_min=pswp.getZoomLevel()});if(I.length>5){$(".pswp__button--arrow--right").css("right","70px")}$(window).bind("gestureend",function(K){lightbox_zoom()}).on("orientationchange",function(K){})}}$("#popup_light").find("div.close").unbind("click");$("#popup_light").find("div.close").click(function(){$.popup.hidePopup("popup_light",j);pswp.close();window.history.back()});return false})}function lightbox_zoom(a){pswp_zoomlevel=pswp.getZoomLevel();if(a!=undefined){if(a=="in"){if(pswp_zoomlevel==pswp_zoomlevel_max){return}else{if(pswp_zoomlevel>pswp_zoomlevel_min&&pswp_zoomlevel<pswp_zoomlevel_max){pswp_zoomlevel=pswp_zoomlevel_max}else{pswp_zoomlevel=pswp_zoomlevel_min+((pswp_zoomlevel_max-pswp_zoomlevel_min)/2)}}}else{if(pswp_zoomlevel==pswp_zoomlevel_min){return}else{if(pswp_zoomlevel>pswp_zoomlevel_min&&pswp_zoomlevel<pswp_zoomlevel_max){pswp_zoomlevel=pswp_zoomlevel_min}else{pswp_zoomlevel=pswp_zoomlevel_min+((pswp_zoomlevel_max-pswp_zoomlevel_min)/2)}}}pswp.zoomTo(pswp_zoomlevel,{x:pswp.viewportSize.x/2,y:pswp.viewportSize.y/2},500,false)}$(".prettybox_zoom_in").css("color","#0a0a0a");$(".prettybox_zoom_out").css("color","#0a0a0a");if(pswp_zoomlevel>=pswp_zoomlevel_max){$(".prettybox_zoom_in").css("color","#BBBBBB")}if(pswp_zoomlevel<=pswp_zoomlevel_min){$(".prettybox_zoom_out").css("color","#BBBBBB")}}function reset_lightbox_zoombuttons(){$(".prettybox_zoom_in").css("color","#0a0a0a");$(".prettybox_zoom_out").css("color","#BBBBBB")}String.prototype.repeat=function(a){return new Array(a+1).join(this)};$(document).ready(function(){var c=400;if($(window).width()<medium_device_breakpoint){c=1000}if($("#typeahead").length){var e;var d=0;var a;$("#typeahead").on("keyup",function(j){var h=$(this);var g=$(this).attr("id");var k=h.val().trim();var f=$("#typeahead_content").is(":visible");if(j.which==38&&f==true){j.preventDefault();d--;$(".typeahead_item").css("background-color","transparent");if(d<=0){d=0;$(this).val(a)}else{$(this).val($(".typeahead_item:eq("+(d-1)+")").data("name"));$(".typeahead_item").eq(d-1).css({backgroundColor:"#ffffbd"})}}else{if(j.which==40&&f==true){j.preventDefault();d++;$(".typeahead_item").css("background-color","transparent");var l=parseInt($(".typeahead_item").length);if(d>l){d=l}$(this).val($(".typeahead_item:eq("+(d-1)+")").data("name"));$(".typeahead_item").eq(d-1).css({backgroundColor:"#ffffbd"})}else{if(j.which==27&&f==true){j.preventDefault();$("#typeahead_content").html("").hide()}else{if(k.length>=2){if(a!=k){clearTimeout(e);e=setTimeout(function(){b(g,k)},c);a=k}}else{$("#typeahead_content").html("").hide()}}}}}).on("keydown",function(f){if(f.which==13&&d>0){f.preventDefault();$(".typeahead_item:eq("+(d-1)+") a")[0].click()}}).on("blur",function(){setTimeout(function(){$("#typeahead_content").hide()},250)});function b(g,k){if($("#typeahead_content").length==0){var j='<ul id="typeahead_content"></ul>';$("body").append(j)}var h=$("#typeahead_content");var f=$("#typeahead").width()+8;var l=document.getElementById(g).getBoundingClientRect();g=$("#"+g);h.css({top:l.top+g.outerHeight(),left:l.left,minWidth:(f>470?470:f)+"px",marginRight:"8px"});if(h.html()==""){h.html('<li><div class="loader" style="margin:8px auto;height:40px;width:40px;background-size: 40px;"></div></li>')}h.show();$.ajax({url:"catalog/ajax/typeahead.php?term="+k,success:function(m){d=0;h.html(m);lazyload(true);if(m.length==0){h.hide()}}})}}});function showLoginForms(a,b){if(b==undefined){b="login_div"}var c=["login_div","forgot_div","create_div"];$.ajax({url:"catalog/ajax/misc.php?debug=login_form",cache:false,data:"action=login_form",success:function(d){$("#user_form_container").html(d);$("input[name=to]").val(a);$("#"+c.join(", #")).hide();$("#"+b).show();if(b=="create_div"){$("#create_account_button").hide()}$("#user_form_container").foundation("open")}})}function showPopup(b,a,c){$.popup({content_id:b,position:a,hide_on_veil_click:c})}function hidePopup(a){$.popup.hidePopup(a)}(function(d){var b;var a=new Array();var e="gjwegWEG23GG2g3sdbmkasla";var c=1005;b={init:function(h){if(h.content_id==undefined){return false}if(h.position==undefined){h.position="absolute"}if(h.hide_on_veil_click==undefined){h.hide_on_veil_click=true}if(h.opacity==undefined){h.opacity=0.65}if(h.offset_y==undefined){h.offset_y=0}if(h.offset_x==undefined){h.offset_x=0}if(h.veil_color==undefined){h.veil_color="#DDDDDD"}if(h.align_center==undefined){h.align_center=true}if(d("#"+h.content_id).css("display")!="block"){d("#"+h.content_id).css({"z-index":c+1,opacity:0,display:"block",position:h.position,top:"0",left:"0"});var f=d(window).width();var g=d(window).height();if(a.length==0){jQuery("<div/>",{id:e}).css({display:"none",opacity:0,filter:"alpha(opacity=0)",backgroundColor:h.veil_color,position:"fixed","z-index":c,top:"0px",left:"0px",width:d(window).width()+"px",height:d(window).height()+"px"}).appendTo("body");if(h.hide_on_veil_click==true){d("#"+e).bind("click",function(){d.popup.hidePopup(h.content_id,h.callback_on_hide)})}d(window).resize(function(){b.resizeVeil();d.popup.centerPopup(h.content_id)});d("#"+e).css("display","block");d("#"+e).css({opacity:0}).animate({opacity:h.opacity},100)}c++;if(h.align_center==true){d.popup.centerPopup(h)}d("#"+h.content_id).css({opacity:0}).animate({opacity:1},100);a[a.length]=h.content_id}},resizeVeil:function(h){var f=d(window).width();var g=d(window).height();d("#"+e).css("width",f+"px");d("#"+e).css("height",g+"px")}};d.popup=function(f){if(b[f]){return b[f].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof f==="object"||!f){return b.init.apply(this,arguments)}else{d.error("Method "+f+" does not exist on jQuery.ajaxq")}}};d.popup.getShowingIds=function(){return a};d.popup.centerPopup=function(p){var n=p.content_id;var f=d(window).width();var o=d(window).height();var m=d("#"+n).width();var h=d("#"+n).height();var g=p.offset_y;if(isNaN(g)){p.offset_y=0}var j=p.offset_x;if(isNaN(j)){p.offset_x=0}var l=((o/2)-(h/2))+d(document).scrollTop()+p.offset_y;if(l<30+d(document).scrollTop()){l=30+d(document).scrollTop()}var k=((f/2)-(m/2))+p.offset_x;if(k<50){k=50}d("#"+n).css("left",k+"px");d("#"+n).css("top",l+"px")};d.popup.getZindex=function(){return c};d.popup.hidePopup=function(f,g){if(f==undefined){for(i=0;i<a.length;i++){d("#"+a[i]).css({opacity:1}).animate({opacity:0},100,function(){d(this).css("display","none")})}a=new Array()}else{for(i=0;i<a.length;i++){if(a[i]==f){a.splice(i,1)}}d("#"+f).css({opacity:1}).animate({opacity:0},100,function(){d(this).css("display","none")})}if(a.length==0){d("#"+e).css({opacity:0.7}).animate({opacity:0},100,function(){d(this).remove()})}if(g!=""&&g!=undefined){g()}}})(jQuery);function glsSelector(type){eval("var parcel_tmp = "+$("#gls_parcel_multi").val());$("#gls_selected").val(type+"_"+parcel_tmp.Number)}var spec_desc_last_id;function showSpecDesc(a,b,c){if(b=="value"&&typeof c=="undefined"){c=a}if(spec_desc_last_id!=a){$.ajax({url:"catalog/ajax/misc.php?debug=get_specdesc&spec_id="+a+"&type="+b+"&active_spec_id="+c,cache:false,data:"action=get_specdesc&spec_id="+a+"&type="+b,success:function(d){if(d!=""){spec_desc_last_id=a;$("#specs_popup_content").html(d);$(".overlay_spec").css("borderWidth","").css("borderColor","").css("borderStyle","").css("padding","").css("borderLeft","8px solid #EEEEEE");$("#overlay_spec_"+c).css("borderWidth","2px 2px 2px 8px").css("borderColor","#388E40").css("borderStyle","solid").css("padding","20px 0 20px 14px");lightboxLinks();$("#specs_popup_container").foundation("open");lazyload(true);setTimeout(function(){scroll_to_spec(c)},100)}}})}else{$(".overlay_spec").css("borderWidth","").css("borderColor","").css("borderStyle","").css("padding","").css("borderLeft","8px solid #EEEEEE");$("#overlay_spec_"+c).css("borderWidth","2px 2px 2px 8px").css("borderColor","#388E40").css("borderStyle","solid").css("padding","20px 0 20px 14px");$("#specs_popup_container").foundation("open");setTimeout(function(){scroll_to_spec(c)},100)}}function scroll_to_spec(c){var a=$(".reveal-overlay:visible");var b=$("#overlay_spec_"+c).position();a.animate({scrollTop:(b.top+a.scrollTop()-10)+"px"})}(function(c){var b={};var d={};var a;a={init:function(e){if(b[e.queue]==undefined){b[e.queue]=[]}if(d[e.queue]==undefined){d[e.queue]={readyState:4}}if(e.priority=="high"){b[e.queue].unshift(e)}else{b[e.queue].push(e)}if(d[e.queue].readyState==4){a.run(e)}},run:function(f){if(b[f.queue].length>0){f=b[f.queue][0];b[f.queue].shift();var e={};for(var h in f){e[h]=f[h]}f=e;var g=f.complete;f.complete=function(k,j){if(g){g(k,j)}a.run(f)};d[f.queue]=jQuery.ajax(f)}}};c.ajaxq=function(e){if(a[e]){return a[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof e==="object"||!e){return a.init.apply(this,arguments)}else{c.error("Method "+e+" does not exist on jQuery.ajaxq")}}};c.ajaxq.getLength=function(e){if(b[e]==undefined){return 0}return b[e].length};c.ajaxq.stop=function(e,f){b[e]=[];if(d[e]!=undefined&&f==true){d[e].abort();d[e]={readyState:4}}}})(jQuery);function microtime(b){var a=new Date().getTime();var c=parseInt(a/1000);return b?(a/1000):(a-(c*1000))/1000+" "+c}function findCityFromZip(b,a,c){if(a==undefined){a="#city"}if(c==undefined){c="#country"}if($(a).val()==""&&b.length>2){var d=$(c).val();$.ajax({url:"catalog/ajax/misc.php?debug=get_city_from_zip",type:"GET",data:"action=get_city_from_zip&zip="+b+"&country_id="+d,success:function(e){if(e!=""){$(a).val(e)}}})}}$.fn.shorten=function(a){var b=$.extend({},$.fn.shorten.defaults,a);this.each(function(){var h=$(this);var j=b.height;h.css("height","auto");var d=h.height();if(d>j){h.css({height:j+"px",overflow:"hidden",position:"relative"});$("<div/>").css({position:"absolute",bottom:"0",top:"0",width:"100%",background:"linear-gradient(to top, rgba(255,255,255,1) 0%,rgba(255,255,255,0) 100%)"}).attr("class","read_more_gradient").appendTo(h);var n=$('<div class="read_more_expand '+b.moreContainerClasses+'">'+b.moreLink+"</div>");var l=$('<div class="read_more_contract '+b.lessContainerClasses+'" style="display:none;">'+b.lessLink+"</div>");l.insertAfter(h);n.insertAfter(h);n.click(function(){h.css("height","auto").children(".read_more_gradient").css("display","none");$(this).css("display","none").next(".read_more_contract").css("display","block")});l.click(function(){h.css("height",j+"px").children(".read_more_gradient").css("display","block");$(this).css("display","none").prev(".read_more_expand").css("display","block")});if(b.tracking){if(b.tracking.readmore){var f=b.tracking.readmore.action;var m=b.tracking.readmore.category;var k=b.tracking.readmore.label;n.click(function(){gtag("event",f,{send_to:"analytics",event_category:m,event_label:k})})}if(b.tracking.readless){var e=b.tracking.readless.action;var c=b.tracking.readless.category;var g=b.tracking.readless.label;l.click(function(){gtag("event",e,{send_to:"analytics",event_category:c,event_label:g})})}}}})};$.fn.shorten.defaults={gradientHeight:15,height:40,moreLink:"Read more...",lessLink:"Read less..."};var html_entities_decode=(function(){var a=document.createElement("div");function b(c){if(c&&typeof c==="string"){c=c.replace(/<script[^>]*>([\S\s]*?)<\/script>/gmi,"");c=c.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gmi,"");a.innerHTML=c;c=a.textContent;a.textContent=""}return c}return b})();$(function(){var b=$('<div style="width:100px;height:20px;overflow-y: scroll;" id="scroll_outer_div"><div id="scroll_inner_div" style="height:30px;"></div></div>');$("body").append(b);var a=100-$("#scroll_inner_div").width();$("#scroll_outer_div").remove();$(document).on("open.zf.reveal",function(){$("body").css("padding-right",a+"px")});$(document).on("closed.zf.reveal",function(){if($(".reveal[aria-hidden=false]").length==0){$("body").css("padding-right","0")}else{$("body").addClass("is-reveal-open")}})});function get_secondary_images(g,h,f){var d="";var b=0;if((php2js.product.variants[g]!=undefined&&php2js.product.variants[g].images.length>1)||(f==true&&php2js.product.variants[g].images.length>0)||(php2js.product.video!=undefined&&php2js.product.video.length==1)){d='<div class="secondary_image_container">';if(php2js.product.variants[g].images.length>1||(f==true&&php2js.product.variants[g].images.length>0)){for(i=0;i<php2js.product.variants[g].images.length;i++){var c=php2js.product.variants[g].images[i].file;var a=php2js.product.variants[g].images[i][1000].h;var e=php2js.product.variants[g].images[i][1000].w;d+='<div class="secondary_image_div'+(b==0?" secondary_image_div_selected":"")+'" id="secondary_image_div_'+b+'"><a href="'+php2js.texts.HTTPS_STATIC+"/"+php2js.texts.DIR_WS_PRODUCT_1500+c+'" rel="lightbox" class="product_image_thumbnails" data-index="'+b+'" data-height="'+a+'" data-width="'+e+'" data-stock_code="'+g+'"><div class="secondary_image_wrapper" data-count="'+b+'" data-image="'+php2js.texts.HTTPS_CDN+"/"+php2js.texts.DIR_WS_PRODUCT_440+c+'"><img src="'+php2js.texts.HTTPS_CDN+"/"+php2js.texts.DIR_WS_PRODUCT_60+c+'"></div></a></div>';b++}}if(h!=undefined&&php2js.product.videos!=undefined&&php2js.product.videos.length>0){for(i=0;i<php2js.product.videos.length;i++){d+='<div class="secondary_image_div video" id="secondary_image_div_'+b+'" onclick="embed_video_overlay('+i+");$('#video_overlay').foundation('open');\"><div class=\"secondary_video_wrapper\" data-count=\""+b+'" ><svg style="width: 3em;height: 3em;" version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M9 5.813l13.125 8.188-13.125 8.188v-16.375M8 4v20l16-10z"></path></svg><span style="display: block;margin-top: -6px;">'+php2js.texts.TEXT_VIDEO+"</span></div></div>";b++}}d+='<div class="clear"></div></div><div class="clear"></div>'}$("#extra_images").html(d);$(".secondary_image_wrapper:not(.video)").mouseenter(function(){show_image($(this))}).click(function(){show_image($(this))})}function embed_video_overlay(a){$("#video_overlay .flex-video").html(php2js.product.videos[a])}function show_image(a){$("#product_image_table").slick("slickGoTo",a.data("count"));$(".secondary_image_div").each(function(){$(this).removeClass("secondary_image_div_selected")});a.parent().parent().addClass("secondary_image_div_selected");lightboxLinks();$("<img />").load(function(){$("#prodimage").attr("src",this.src);$("#loader_size").css("display","none")}).error(function(){}).attr("src",a.data("image"))}function formatState(a){if(!a.id){return a.text}if(a.element.dataset.stock!=undefined){var a=$('<span style="'+(typeof a.element.dataset.free==undefined?"white-space:nowrap;":"")+'padding-right:10px;"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" style="width: 1em;margin-right:3px;" title="'+a.element.dataset.stock_text+'" class="stock_svg_'+a.element.dataset.stock+'"><path d="M29.69 14a13 13 0 01-1.82 6.88 13.7 13.7 0 01-5 5c-2.06 1.25-4.37 1.8-6.87 1.8s-4.81-.56-6.88-1.8a13.7 13.7 0 01-5-5C2.88 18.8 2.33 16.5 2.33 14s.56-4.81 1.8-6.88a13.7 13.7 0 015-5C11.2.88 13.5.32 16 .32s4.81.55 6.88 1.8a13.7 13.7 0 015 5 13.01 13.01 0 011.8 6.88z"/></svg> <span>'+a.text+"</span>")}else{var a=$("<span>"+a.text+"</span>")}return a}function modelMatcher(g,f){f.parentText=f.parentText||"";if($.trim(g.term)===""){return f}if(f.children&&f.children.length>0){var a=$.extend(true,{},f);for(var j=f.children.length-1;j>=0;j--){var h=f.children[j];h.parentText+=f.parentText+" "+f.text;var e=modelMatcher(g,h);if(e==null){a.children.splice(j,1)}}if(a.children.length>0){return a}return modelMatcher(g,a)}var d=(f.parentText+" "+f.text).toUpperCase();var b=g.term.toUpperCase();if(d.indexOf(b)>-1){return f}return null}function free_select_changed(d,f){$("input[name=free"+f+"]").val($(d).data("id"));var a=$("input[name=free"+f+"]").val();var c="";if($(d).find(".variant_icon").html()!=undefined){c=$(d).find(".variant_icon").html()+"&nbsp;&nbsp;"}var e=c+$(d).find(".variant_text").html();$(".freebie_select[data-id=free"+f+"]").html(e);$(d).closest(".reveal").find(".reveal_selected_row").removeClass("reveal_selected_row");$(d).closest(".reveal").find(".radio_button").removeClass("selected");$(d).addClass("reveal_selected_row");$(d).find(".radio_button").addClass("selected");if(a!=-1){a=a.replace(/\W/g,"").toLowerCase();var b=$("#data_"+f);$("#freebie_image_"+f).attr("src",cdn_image_60_path+b.data("image_"+a));$("#freebie_price_"+f).html("+ "+b.data("price_"+a));$("#freebie_price_before_"+f).html(b.data("price_before_"+a))}update_bundle_status()}function freegroup_select_changed(d,c){var f=$(d).data("id").toString();$("input[name=freegroup"+c+"]").val(f);if($(d).data("free")!=undefined){$("input[name=freegroup"+c+"_product_id]").val($(d).data("free").toString())}var h="";if($(d).find(".variant_icon").html()!=undefined){h=$(d).find(".variant_icon").html()+"&nbsp;&nbsp;"}var g=h+$(d).find(".variant_text").html();$(".freebie_select[data-id=freegroup"+c+"]").html(g);var b=$(d).closest(".reveal");b.find(".reveal_selected_row").removeClass("reveal_selected_row");b.find(".radio_button").removeClass("selected");$(d).addClass("reveal_selected_row");$(d).find(".radio_button").addClass("selected");if(f!=-1){var m=f.replace(/\W/g,"").toLowerCase();var l=$(d).data("free");var j=$("#data_"+l);$("#freegroup_image_link_"+c).attr("href",j.data("link"));var k=$(d).parent();var e="";if(k.hasClass("select_reveal_optgroup")==true){e=k.find("div").first().html()}$("#freegroup_image_"+c).attr("src",cdn_image_60_path+j.data("image_"+m)).attr("alt",e);$("#freegroup_name_link_"+c).attr("href",j.data("link"));$("#freegroup_name_"+c).html(e);$("#freegroup_quantity_"+c).html(j.data("quantity_text"));$("#freegroup_price_"+c).html(j.data("price_"+m));$("#freegroup_price_before_"+c).hide();if(j.data("price_"+m)!=j.data("price_before_"+m)){$("#freegroup_price_before_"+c).html(j.data("price_before_"+m)).show()}var a=$("#freegroup_sizeguide_"+c);a.hide();a.prev().hide();if(typeof j.data("sizeguide_link")!="undefined"){a.attr("href",j.data("sizeguide_link")).attr("title",j.data("sizeguide_title")).show();a.prev().show()}}$("#reveal_freegroup"+c+" .reveal_select_row").removeClass("reveal_selected_row");d.addClass("reveal_selected_row");update_bundle_status()}function yes_no_select_changed(b,c){$("input[name=free"+c+"]").val(b.data("id"));$("#reveal_free"+c+" .reveal_select_row").removeClass("reveal_selected_row");$("#reveal_free"+c+" .reveal_select_row").find(".radio_button").removeClass("selected");b.addClass("reveal_selected_row");b.find(".radio_button").addClass("selected");var a=b.clone();a.find(".select_reveal_choose_button").remove();$(".freebie_select[data-id=free"+c+"]").html(a.html())}function update_bundle_status(){var c=[];$("#freebies_div input:hidden").each(function(){var d=this.name;if(d.indexOf("_")!=-1){return"continue"}if(d.substring(0,4)=="free"){var e=$("#reveal_"+d+" .reveal_selected_row");if(e.length==1&&e.data("unix_timestamp")!=undefined){c.push({unix_timestamp:e.data("unix_timestamp"),stock_color:e.data("stock"),stock_text:e.data("stock_text_bundle")})}}});c.sort(function(f,d){var j=f.unix_timestamp;var h=d.unix_timestamp;var g=(f.stock_color=="orange"?3:(f.stock_color=="yellow"?2:1));var e=(d.stock_color=="orange"?3:(d.stock_color=="yellow"?2:1));return h-j||e-g});if(c.length>0){var b=c[0];var a=$("#single_variant_info");if(a.length==1){$("#product_timer_container").removeClass("hidden");a.find(".js_stock_text").text(b.stock_text);a.find("svg path").attr("class","stock_svg_"+b.stock_color)}}}function close_banner(b,a){b.stopPropagation();$.ajax({url:"catalog/ajax/misc.php?action=close_banner&type="+a,success:function(c){}});gtag("event","banner_close",{send_to:"analytics",event_category:"Internal",event_label:a})}function search_show_more_articles(){$(".search_articles>div.column").removeClass("hide hide-for-small show-for-medium");$("#article_show_more").addClass("hide")}function toggle_search_result(b){var a=$("#result_"+b.data("toggle"));a.slideToggle(300,function(){if(a.is(":visible")){b.find(".search_header_fold").removeClass("search_header_fold_plus").addClass("search_header_fold_minus")}else{b.find(".search_header_fold").removeClass("search_header_fold_minus").addClass("search_header_fold_plus")}})}function login_keyup(a){if(a.which==13){show_login_loader("login_box");validate_login()}}function validate_login(){var b=$("#login_email").val();var a=$("#login_password").val();notification_reset("login_message");$.ajax({url:"catalog/ajax/login.php",data:{action:"check_login",email:b,password:a},method:"post",async:false,success:function(c){if(c=="true"){$("form[name=login]").attr("onsubmit","").submit()}else{notification_add("login_message",login_error_text)}},complete:function(c){hide_login_loader()}})}function forgotPassword(){notification_reset("forgot_message");$.ajax({url:"catalog/ajax/misc.php?debug=forgotpass",method:"POST",cache:false,dataType:"json",data:{action:"forgot_password",email:$("#forgot_email_address").val()},success:function(a){if(a!==null){if(a.email_error!=undefined){notification_add("forgot_message",a.email_error)}if(a.email_success!=undefined){notification_add("forgot_message",a.email_success,"success")}}},complete:function(a){hide_login_loader()}})}function createUser(){$.ajax({url:"catalog/ajax/misc.php?debug=createuser",method:"POST",cache:false,dataType:"json",data:{action:"create_user",name:$("form[name=create] #input_name").val(),email:$("form[name=create] #email_address").val(),email_repeat:$("form[name=create] #email_address_2").val(),password:$("form[name=create] #password").val()},success:function(a){notification_reset("create_message");if(a!=""){if(a.name_error!=undefined){notification_add("create_message",a.name_error)}if(a.email_error!=undefined){notification_add("create_message",a.email_error)}if(a.password_error!=undefined){notification_add("create_message",a.password_error)}}else{$("#create_account_form").attr("onsubmit","").submit()}},complete:function(a){hide_login_loader()}});return false}function ellipsis(){$(".blog_entry>div:nth-child(2)>div:first-child").each(function(){var b=$(this).height();var e=$(this).find("a");var d=e.attr("title");e.html(d);var c=e.height();var a=0;while(c-5>b){a=d.length;d=d.substr(0,a-1);e.html(d+"...");c=e.height()}})}function notification_add(d,c,b){if(b==undefined||(b!="success"&&b!="info"&&b!="warning")){b="alert"}var a='<svg style="margin-left: 7px;padding-top:5px;" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M19.4 20.3v4c0 .3 0 .6-.3.8-.2.2-.5.3-.8.3h-4.6a.9.9 0 01-.8-.3.9.9 0 01-.3-.8v-4c0-.3 0-.6.3-.8.2-.3.5-.4.8-.4h4.6c.3 0 .6.1.8.4.2.2.3.5.3.8zM20 1.4l-.5 13.7c0 .3 0 .7-.3.8-.2.3-.5.4-.8.4h-4.6c-.3 0-.6-.1-.8-.4-.2-.1-.3-.5-.3-.8L12 1.4c-.1-.3 0-.5.3-.8.2-.2.4-.3.7-.3H19c.3 0 .5 0 .7.3.3.3.4.5.3.8z"/></svg>';if(b=="info"){a='<svg style="margin-left: 7px;padding-top:5px;" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M10 14a2 2 0 012 2v8a2 2 0 01-2 2H8v4h16v-4h-2a2 2 0 01-2-2V10H8v4zM20 2c0 2.2-1.8 4-4 4s-4-1.8-4-4 1.8-4 4-4 4 1.8 4 4z"/></svg>'}else{if(b=="success"){a='<svg style="margin-left: 7px;padding-top:5px;"" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M29.8 8.1c0 .5-.1.9-.5 1.2L14 24.7c-.4.3-.8.5-1.3.5-.4 0-.8-.2-1.1-.5l-9-8.9c-.3-.4-.4-.7-.4-1.2s.1-1 .5-1.2L5 10.9c.3-.3.7-.5 1.2-.5.4 0 .9.2 1.2.5l5.2 5.3L24.5 4.4c.3-.3.7-.5 1.2-.5s.9.2 1.2.5L29.3 7c.4.4.5.7.5 1.2z"/></svg>'}else{if(b=="error"){b="alert"}}}var e='<div class="alert-box '+b+'"><div class="icon_container">'+a+'</div><div class="content"><span style="font-size:11px;">'+c+'</span></div><button type="button" class="close" onclick="notification_close(this, event);">×</button></div>';$("#"+d).append(e)}function notification_reset(a){if(a==undefined){$(".notification_stack").html("")}else{$("#"+a).html("")}}function notification_close(b,a){$(b).parent().remove();a.stopPropagation()}function show_login_loader(c){var a=$("#"+c);var b=a.position();$("#login_loader").css({width:a.width()+"px",height:(a.height())+"px",top:(b.top+parseInt(a.css("padding-top")))+"px",left:(b.left+parseInt(a.css("padding-left")))+"px"}).show()}function hide_login_loader(){$("#login_loader").hide()}function show_content(d){notification_reset("forgot_message");notification_reset("create_message");notification_reset("login_message");$("#login_box, #create_box, #forgot_box").hide();var c=$("#"+d);$("#box_header").html(c.data("header"));c.show();var b=$("#login_google");var a=$("#login_facebook");if(d=="login_box"){b.html(b.data("text-login"));a.html(a.data("text-login"))}else{b.html(b.data("text-signup"));a.html(a.data("text-signup"))}}function log_analytics_purchase_hit(b,a){$.ajax({url:"catalog/ajax/misc.php",type:"POST",data:{action:"log_analytics_hit",order_id:b,tracking_id:a}})}function lazyload(f){var e=[];var c=[];var g=100;var b=$(window).scrollTop();var a=$(window).height();$(".lazyload").each(function(){var h=$(this).offset().top;if($(this).is(":visible")||typeof f!="undefined"){if(h>b-g&&h<b+a+g){e.push($(this))}else{c.push($(this))}}});var d=e.concat(c);d.forEach(function(h){$.loadImage(h.attr("data-src")).done(function(j){h.attr("src",h.attr("data-src")).removeClass("lazyload lazyload_low").removeAttr("data-src").css("background-image","none")})})}$(function(){lazyload();$(window).resize(function(){lazyload()})});$.loadImage=function(a){var b=function(d){var g=new Image();g.onload=e;g.onerror=f;g.onabort=f;g.src=a;function e(){c();d.resolve(g)}function f(){c();d.reject(g)}function c(){g.onload=null;g.onerror=null;g.onabort=null}};return $.Deferred(b).promise()};function show_freebie_reveal(a){$("#reveal_"+a).foundation("open")};